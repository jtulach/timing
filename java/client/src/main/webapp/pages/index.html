<!DOCTYPE html>
<html>
    <head>
        <title>SKI Mb Timing</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link href="pure-release-0.6.2/pure-min.css" rel="stylesheet" type="text/css"/>
        <link href="pure-release-0.6.2/grids-responsive-min.css" rel="stylesheet" type="text/css"/>
        <link href="index.css" rel="stylesheet" type="text/css"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
            <a class="pure-menu-heading" href="#"><span class="heading-text">SKI MB Timing</span></a>
        </div>
        <div data-bind="visible: alert" id="alert">
            <a href="#alert" data-bind="text: message, click: hideAlert, css: {alert: alert}"></a>
        </div>
        <div class="spacer"></div>
        <script type="text/html" id="list-contacts">
            <div id="contats-list" data-bind="foreach: contacts">
                <div class="pure-g">
                    <div class="pure-hidden-xs pure-u-md-1-5">
                        <div class="avatar">
                            <img
                                data-bind="attr: { 'src' : imgSrc }" width="96"
                            >
                            <!--
                            <i class="fa fa-address-book" aria-hidden="true"></i>
                            -->
                        </div>
                    </div>
                    <div class="pure-u-4-5">
                        <div class="contact">
                            <div data-bind="text: name"></div>

                            <button class="pure-button pure-hidden-xs" data-bind="click: $root.contactSelected"><span>Vybrat</span></button>
                            <button class="pure-button pure-hidden-xs" data-bind="click: $root.editContact"><span>Upravit</span></button>
                            <!--
                            <button class="pure-button pure-hidden-xs" data-bind="click: $root.deleteContact"><span>Smazat</span></button>
                            -->
                        </div>
                    </div>
                    <div class="pure-hidden-sm pure-hidden-lg pure-hidden-md pure-hidden-xl pure-u-1-5">
                        <div class="awesome-button"  data-bind="click: $root.editContact">
                            <i class=" fa fa-pencil"></i>
                        </div>
                        <!--
                        <div class="awesome-button"  data-bind="click: $root.deleteContact">
                            <i class=" fa fa-trash"></i>
                        </div>
                        -->
                    </div>
                </div>
            </div>

            <div class="awesome-button" id="sticky-footer-button" data-bind="click: $root.addContact">
                <i class=" fa fa-plus-circle"></i>
            </div>
        </script>
        
        <script type="text/html" id="avatar">
            <div class="avatar" data-bind="click: $root.chooseContact, with: contact">
                <div>
                    <span data-bind="text: name">Jméno</span>
                    <img data-bind="attr: { src : imgSrc }" width="96" height="96"/>
                </div>
            </div>
        </script>

        <script type="text/html" id="list-events">
            <div id="events-list" data-bind="foreach: records">
                <div class="pure-g">
                    <div class="pure-hidden-xs pure-u-md-1-5">
                        <div data-bind="template: { name: 'avatar', data: who }"/>
                        </div>
                    </div>
                    <div class="pure-u-4-5">
                        <div class="event" >
                            <span data-bind="text: length"></span>
                            <span data-bind="with: start">
                                <span data-bind="text: type"></span>
                                @ <span data-bind="text: shortWhen"></span>
                            </span>
                        </div> 

                        <!--
                        <button class="pure-button pure-hidden-xs" data-bind="click: $root.edit"><span>Edit</span></button>
                        -->
                        <button class="pure-button pure-hidden-xs" data-bind="click: $root.ignoreEvent"><span>Ignorovat</span></button>
                    </div>
                    <div class="pure-hidden-sm pure-hidden-lg pure-hidden-md pure-hidden-xl pure-u-1-5">
                        <div class="awesome-button"  data-bind="click: $root.edit">
                            <i class=" fa fa-pencil"></i>
                        </div>
                        <div class="awesome-button"  data-bind="click: $root.ignoreEvent">
                            <i class=" fa fa-trash"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="awesome-button" id="sticky-footer-img">
                Startuje
                <div data-bind="template: { name: 'avatar', data: nextOnStart }">
                </div>
            </div>
        </script>

        <script type="text/html" id="edit-contact">
            <form id="contact-form" class="pure-form pure-form-aligned">
                <fieldset>

                    <div class="pure-control-group">
                        <label for="first-name">Jméno</label>
                        <input class="pure-input-1-2" id="first-name" type="text" placeholder="Lyžař loučkař" data-bind="textInput: name" required>
                    </div>
                    <div class="pure-control-group">
                        <label for="last-name">Obrázek</label>
                        <input class="pure-input-1-2" id="last-name" type="text" placeholder="http://wiki.apidesign.org/images/b/b7/Tulach.png" data-bind="textInput: imgSrc" required>
                    </div>
                    <div class="pure-controls">
                        <button  class="pure-button pure-button-primary" data-bind="click: $root.commit">OK</button>
                        <button class="pure-button" data-bind="click: $root.cancel">Cancel</button>
                    </div>
                    <div class="pure-control-group">
                        <label data-bind="text: validate"></label>
                    </div>

                </fieldset>
            </form>
        </script>

        <div data-bind="template: { name: 'list-events', if: showEvents }">
        </div>

        <div data-bind="template: { name: 'list-contacts', if: showContacts }">
        </div>

        <div data-bind="template: { name: 'edit-contact', if: edited, data: edited }">
        </div>

        <div id="sticky-footer">
            <form class="pure-form">
                <fieldset>
                    <input class="pure-input-2-3" type="url" data-bind="textInput: url" >
                    <button class="pure-button pure-button-primary" data-bind="click: connect">Načíst</button>
                </fieldset>
            </form>
        </div>
                <!-- ${browser.bootstrap} -->
            </body>
</html>
